/**
 * Design Tokens — Tension App
 * Enterprise-grade design system with Light/Dark theme support
 * FSD Architecture
 */

:root {
  /* ═══════════════════════════════════════════════════════════════
     BRAND COLORS (Theme-independent)
     ═══════════════════════════════════════════════════════════════ */
  
  --color-accent: #90ccf4;
  --color-accent-light: #b6e1ff;
  --color-accent-dark: #62b0e6;
  --color-accent-soft: rgba(144, 204, 244, 0.18);
  --color-accent-ring: rgba(144, 204, 244, 0.26);

  --color-primary: var(--color-accent);
  --color-primary-light: var(--color-accent-light);
  --color-primary-dark: var(--color-accent-dark);
  --color-primary-soft: var(--color-accent-soft);

  --focus-ring: 0 0 0 3px var(--color-accent-ring);
  
  /* Semantic */
  --color-success: #22c55e;
  --color-success-light: #4ade80;
  --color-success-dark: #16a34a;
  --color-success-soft: rgba(34, 197, 94, 0.15);
  --color-warning: #f59e0b;
  --color-warning-soft: rgba(245, 158, 11, 0.15);
  --color-error: #ef4444;
  --color-error-light: #f87171;
  --color-error-soft: rgba(239, 68, 68, 0.15);
  
  /* Response section (green background) */
  --color-response-bg: rgba(34, 197, 94, 0.12);
  --color-response-border: rgba(34, 197, 94, 0.25);
}

/* ═══════════════════════════════════════════════════════════════
   LIGHT THEME (Default)
   ═══════════════════════════════════════════════════════════════ */

[data-theme="light"], :root {
  /* Backgrounds */
  --color-bg-app: #f5f5f7;
  --color-bg-surface: #ffffff;
  --color-bg-elevated: #ffffff;
  --color-bg-muted: #f3f4f6;
  --color-bg-subtle: #f9fafb;
  --color-bg-canvas: #fafafa;
  --color-bg-hover: #f3f4f6;
  --color-bg-active: #e5e7eb;
  --color-bg-overlay: rgba(0, 0, 0, 0.4);
  
  /* Text */
  --color-text-primary: #111827;
  --color-text-secondary: #4b5563;
  --color-text-tertiary: #6b7280;
  --color-text-muted: #9ca3af;
  --color-text-inverse: #ffffff;
  
  /* Borders */
  --color-border-default: #e5e7eb;
  --color-border-subtle: #f3f4f6;
  --color-border-strong: #d1d5db;
  --color-border-focus: var(--color-primary);
  
  /* Shadows */
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.05), 0 2px 4px rgba(0, 0, 0, 0.03);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.08), 0 4px 6px rgba(0, 0, 0, 0.04);
  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1), 0 8px 10px rgba(0, 0, 0, 0.04);
  --shadow-float: 0 8px 30px rgba(0, 0, 0, 0.12);
  
  /* Node specific */
  --node-bg: #ffffff;
  --node-border: #e5e7eb;
  --node-border-hover: #d1d5db;
  --node-border-selected: #111827;
  --node-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  --node-section-bg: #f9fafb;
  
  /* Minimap */
  --minimap-bg: rgba(255, 255, 255, 0.95);
  --minimap-node: #d1d5db;
  --minimap-node-root: #9ca3af;
  --minimap-viewport: rgba(99, 102, 241, 0.3);
  --minimap-viewport-stroke: #6366f1;
  
  /* Toolbar */
  --toolbar-bg: #ffffff;
  --toolbar-border: #e5e7eb;
  --toolbar-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  
  /* Sidebar */
  --sidebar-bg: #ffffff;
  --sidebar-border: #e5e7eb;
  --sidebar-item-hover: #f3f4f6;
  --sidebar-item-active: #eef2ff;
  
  /* Connection lines */
  --connection-stroke: #9ca3af;
  --connection-stroke-hover: #6b7280;
  
  /* Canvas grid */
  --canvas-grid-dot: rgba(0, 0, 0, 0.1);
}

/* ═══════════════════════════════════════════════════════════════
   DARK THEME
   ═══════════════════════════════════════════════════════════════ */

[data-theme="dark"] {
  /* Backgrounds */
  --color-bg-app: #0f0f0f;
  --color-bg-surface: #1a1a1a;
  --color-bg-elevated: #242424;
  --color-bg-muted: #2a2a2a;
  --color-bg-subtle: #1f1f1f;
  --color-bg-canvas: #141414;
  --color-bg-hover: #2a2a2a;
  --color-bg-active: #333333;
  --color-bg-overlay: rgba(0, 0, 0, 0.6);
  
  /* Text */
  --color-text-primary: #f9fafb;
  --color-text-secondary: #d1d5db;
  --color-text-tertiary: #9ca3af;
  --color-text-muted: #6b7280;
  --color-text-inverse: #111827;
  
  /* Borders */
  --color-border-default: #333333;
  --color-border-subtle: #2a2a2a;
  --color-border-strong: #4b5563;
  --color-border-focus: var(--color-primary-light);
  
  /* Semantic colors for dark theme */
  --color-primary-soft: var(--color-accent-soft);
  --color-error-soft: rgba(239, 68, 68, 0.15);
  --color-error-light: #f87171;
  --color-success-soft: rgba(34, 197, 94, 0.15);
  --color-success-light: #4ade80;
  
  /* Shadows */
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.2);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.25), 0 2px 4px rgba(0, 0, 0, 0.15);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.3), 0 4px 6px rgba(0, 0, 0, 0.2);
  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.35), 0 8px 10px rgba(0, 0, 0, 0.2);
  --shadow-float: 0 8px 30px rgba(0, 0, 0, 0.4);
  
  /* Node specific - lighter for better readability */
  --node-bg: #262626;
  --node-border: #404040;
  --node-border-hover: #525252;
  --node-border-selected: #f9fafb;
  --node-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  --node-section-bg: #303030;
  
  /* Minimap */
  --minimap-bg: rgba(26, 26, 26, 0.95);
  --minimap-node: #4b5563;
  --minimap-node-root: #6b7280;
  --minimap-viewport: rgba(129, 140, 248, 0.3);
  --minimap-viewport-stroke: #818cf8;
  
  /* Toolbar */
  --toolbar-bg: #1a1a1a;
  --toolbar-border: #2a2a2a;
  --toolbar-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
  
  /* Sidebar */
  --sidebar-bg: #1a1a1a;
  --sidebar-border: #2a2a2a;
  --sidebar-item-hover: #2a2a2a;
  --sidebar-item-active: rgba(99, 102, 241, 0.15);
  
  /* Connection lines */
  --connection-stroke: #4b5563;
  --connection-stroke-hover: #6b7280;
  
  /* Canvas grid */
  --canvas-grid-dot: rgba(255, 255, 255, 0.08);
}

:root {
  
  /* ═══════════════════════════════════════════════════════════════
     TYPOGRAPHY
     ═══════════════════════════════════════════════════════════════ */
  
  --font-family-base: system-ui, -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
  --font-family-mono: 'SF Mono', Monaco, Consolas, monospace;
  
  /* Font Sizes */
  --font-size-xs: 11px;
  --font-size-sm: 12px;
  --font-size-md: 13px;
  --font-size-lg: 14px;
  --font-size-xl: 16px;
  --font-size-2xl: 18px;
  
  /* Font Weights */
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  
  /* Line Heights */
  --line-height-tight: 1.25;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.625;
  
  /* ═══════════════════════════════════════════════════════════════
     SPACING
     ═══════════════════════════════════════════════════════════════ */
  
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;
  
  /* ═══════════════════════════════════════════════════════════════
     BORDERS & RADIUS
     ═══════════════════════════════════════════════════════════════ */
  
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 14px;
  --radius-xl: 18px;
  --radius-full: 999px;
  
  /* ═══════════════════════════════════════════════════════════════
     SHADOWS
     ═══════════════════════════════════════════════════════════════ */
  
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 12px rgba(15, 23, 42, 0.1);
  --shadow-lg: 0 18px 40px rgba(15, 23, 42, 0.18);
  --shadow-xl: 0 18px 45px rgba(15, 23, 42, 0.25);
  --shadow-toolbar: 0 18px 45px rgba(15, 23, 42, 0.65);
  --shadow-modal: 0 18px 55px rgba(15, 23, 42, 0.9);
  
  /* ═══════════════════════════════════════════════════════════════
     TRANSITIONS
     ═══════════════════════════════════════════════════════════════ */
  
  --transition-fast: 150ms ease;
  --transition-normal: 200ms ease;
  --transition-slow: 300ms ease;
  
  /* ═══════════════════════════════════════════════════════════════
     Z-INDEX
     ═══════════════════════════════════════════════════════════════ */
  
  --z-base: 0;
  --z-canvas-ui: 10;              /* Minimap, Toolbar */
  --z-dropdown: 20;
  --z-sticky: 30;
  --z-overlay: 100;               /* Settings overlay */
  --z-modal: 200;                 /* Modals, Command Palette */
  --z-context-menu: 300;          /* Context menus */
  --z-toast: 9999;                /* Toast notifications */
  
  /* ═══════════════════════════════════════════════════════════════
     NODE SPECIFIC
     ═══════════════════════════════════════════════════════════════ */
  
  --node-width: 420px;              /* 1.5x wider (was 320px) */
  --node-min-height: 160px;
  --node-collapsed-height: 500px;   /* Height with all sections collapsed */
  --node-gap-x: 200px;              /* Horizontal gap between nodes - synced with constants.ts */
  --node-gap-y: 120px;              /* Vertical gap between nodes - synced with constants.ts */
  
  /* Collapsible line limits */
  --node-context-lines-collapsed: 3;
  --node-response-lines-collapsed: 10;  /* Max 10 lines before collapse */
  --node-prompt-lines-collapsed: 4;

  /* ═══════════════════════════════════════════════════════════════
     CANVAS UI POSITIONING
     ═══════════════════════════════════════════════════════════════ */
  
  /* Consistent spacing for floating UI elements on canvas */
  --canvas-ui-inset: 20px;           /* Distance from canvas edges */
  --canvas-ui-gap: 12px;             /* Gap between UI elements */
  
  /* Minimap dimensions */
  --minimap-width: 180px;
  --minimap-height: 110px;
  
  /* Toolbar dimensions */
  --toolbar-height: 44px;
  
  /* Settings panel */
  --settings-panel-width: 380px;
  --settings-panel-max-height: 480px;
}
